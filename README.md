# TechStats API - MVP Ð¡ÐµÑ€Ð²Ð¸ÑÐ° ÐÐ½Ð°Ð»Ð¸Ð·Ð° Ð’Ð°ÐºÐ°Ð½ÑÐ¸Ð¹

![Python](https://img.shields.io/badge/python-3.8+-blue.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.104.1-green.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

Ð’ÐµÐ±-ÑÐµÑ€Ð²Ð¸Ñ Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð²Ð¾ÑÑ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð½Ð¾ÑÑ‚Ð¸ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¹ Ð² IT-Ð²Ð°ÐºÐ°Ð½ÑÐ¸ÑÑ… Ñ HeadHunter.ru

## ðŸš€ ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

- âœ… ÐŸÐ¾Ð¸ÑÐº Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹ Ð¿Ð¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÑŽ (Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¸ Ð½ÐµÑ‚Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº)
- âœ… ÐÐ½Ð°Ð»Ð¸Ð· Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ñ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¹ Ð² Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸ÑÑ… Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹
- âœ… Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ñ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚Ð½Ñ‹Ð¼ ÑÐ¾Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÐµÐ¼
- âœ… Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð²ÑÐµÑ… Ð½Ð°Ð¹Ð´ÐµÐ½Ð½Ñ‹Ñ… Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹ Ñ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸ÐµÐ¹
- âœ… **Ð£Ð¼Ð½Ð¾Ðµ ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¾Ð¹ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸** (TTL 24 Ñ‡Ð°ÑÐ°)
- âœ… **ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ñ‡ÐµÑ€ÐµÐ· WebSocket**
- âœ… **Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÐºÑÑˆÐ°** (Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚ Ð¿Ð¾Ð¿Ð°Ð´Ð°Ð½Ð¸Ð¹)
- âœ… Rate limiting Ð´Ð»Ñ ÑÐ¾Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ñ Ð»Ð¸Ð¼Ð¸Ñ‚Ð¾Ð² HH API
- âœ… ÐŸÐ°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ð°Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹
- âœ… REST API Ð¸ Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ

## ðŸ“‹ Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

- Python 3.8+
- pip (Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€ Ð¿Ð°ÐºÐµÑ‚Ð¾Ð² Python)

## ðŸ¤– Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¸ Ð·Ð°Ð¿ÑƒÑÐº Ñ‡ÐµÑ€ÐµÐ· Docker

```bash
# Ð”Ð»Ñ Ð½Ð¾Ð²Ñ‹Ñ… Ð²ÐµÑ€ÑÐ¸Ð¹ Docker
docker compose up

# Ð”Ð»Ñ ÑÑ‚Ð°Ñ€Ñ‹Ñ… Ð²ÐµÑ€ÑÐ¸Ð¹ Docker
docker-compose up
```

Ð—Ð°Ñ‚ÐµÐ¼ Ð¾Ñ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ: `http://localhost:8080/index.html`

## ðŸ› ï¸ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

### 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ð¸Ð»Ð¸ ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚

```bash
mkdir techstats
cd techstats
```

### 2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Linux/macOS
python3 -m venv venv
source venv/bin/activate
```

### 3. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

```bash
pip install -r requirements.txt
```

## ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº

### Ð—Ð°Ð¿ÑƒÑÐº API ÑÐµÑ€Ð²ÐµÑ€Ð°

```bash
python app.py
```

Ð˜Ð»Ð¸ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ uvicorn:

```bash
uvicorn app:app --reload --host 0.0.0.0 --port 8000
```

API Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ: `http://localhost:8000`

### ÐžÑ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°

ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð¾Ñ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `index.html` Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ Ð¸Ð»Ð¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ HTTP ÑÐµÑ€Ð²ÐµÑ€:

```bash
# Python 3
python -m http.server 8080
```

Ð—Ð°Ñ‚ÐµÐ¼ Ð¾Ñ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ: `http://localhost:8080/index.html`

## ðŸ“š API Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð° Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ: `http://localhost:8000/docs`

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ñ‹

#### WebSocket `/ws/analyze` - ÐÐ½Ð°Ð»Ð¸Ð· Ñ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ¾Ð¼ (Ð Ð•ÐšÐžÐœÐ•ÐÐ”Ð£Ð•Ð¢Ð¡Ð¯)

Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ WebSocket Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ° Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸.

ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ:
```json
{
  "vacancy_title": "Data Engineer",
  "technology": "Python",
  "exact_search": true,
  "area": 113,
  "max_pages": 10
}
```

ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ (Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹):

**Ð­Ñ‚Ð°Ð¿ 1 - Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹:**
```json
{
  "stage": "fetching_vacancies",
  "message": "ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ 850 Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹ Ð½Ð° 9 ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð°Ñ…",
  "progress": 10,
  "found": 850,
  "pages": 9,
  "real_requests": 1,
  "cached_requests": 0
}
```

**Ð­Ñ‚Ð°Ð¿ 2 - ÐÐ½Ð°Ð»Ð¸Ð·:**
```json
{
  "stage": "analyzing",
  "message": "ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð¾ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹: 400/850",
  "progress": 75,
  "processed": 400,
  "total": 850,
  "found_with_tech": 320,
  "real_requests": 45,
  "cached_requests": 355,
  "cache_hit_rate": 88.8
}
```

**Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:**
```json
{
  "stage": "finished",
  "data": {
    "vacancy_title": "Data Engineer",
    "technology": "Python",
    "total_vacancies": 850,
    "tech_vacancies": 680,
    "tech_percentage": 80.0,
    "vacancies_with_tech": [...],
    "request_stats": {
      "real_requests": 45,
      "cached_requests": 805,
      "total_requests": 850,
      "cache_hit_rate": 94.7
    }
  }
}
```

#### GET `/health` - ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ°

```json
{
  "status": "healthy",
  "timestamp": "2024-11-29T12:00:00",
  "cache_size": 850
}
```

#### GET `/cache/stats` - Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° ÐºÑÑˆÐ°

```json
{
  "cache_size": 850,
  "real_requests": 45,
  "cached_requests": 805,
  "total_requests": 850,
  "cache_hit_rate": 94.7,
  "cache_ttl_hours": 24,
  "expiring_soon": 12
}
```

**ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ:** ÐšÑÑˆ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ñ‡Ð¸Ñ‰Ð°ÐµÑ‚ÑÑ Ð¾Ñ‚ ÑƒÑÑ‚Ð°Ñ€ÐµÐ²ÑˆÐ¸Ñ… Ð·Ð°Ð¿Ð¸ÑÐµÐ¹ (ÑÑ‚Ð°Ñ€ÑˆÐµ 24 Ñ‡Ð°ÑÐ¾Ð²). ÐŸÑ€Ð¸ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¼ Ð°Ð½Ð°Ð»Ð¸Ð·Ðµ Ñ‚Ð¾Ð¹ Ð¶Ðµ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð±ÐµÑ€ÑƒÑ‚ÑÑ Ð¸Ð· ÐºÑÑˆÐ°, ÐµÑÐ»Ð¸ Ð¾Ð½Ð¸ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹.

#### DELETE `/cache/clear` - ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° ÐºÑÑˆÐ°

```json
{
  "message": "ÐšÑÑˆ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½",
  "cleared_items": 850
}
```

## ðŸŽ¯ ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ

### Ð§ÐµÑ€ÐµÐ· Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ (Ð Ð•ÐšÐžÐœÐ•ÐÐ”Ð£Ð•Ð¢Ð¡Ð¯)

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ `index.html` Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ
2. Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»Ñ:
   - ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸: `System Analyst`
   - Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ: `UML`
   - ÐžÑ‚Ð¼ÐµÑ‚ÑŒÑ‚Ðµ "Ð¢Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº" Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ð¿Ð¾ Ñ‚Ð¾Ñ‡Ð½Ð¾Ð¼Ñƒ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸ÑŽ
3. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ "ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð°Ð½Ð°Ð»Ð¸Ð·"
4. **ÐÐ°Ð±Ð»ÑŽÐ´Ð°Ð¹Ñ‚Ðµ Ð·Ð° Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ¾Ð¼ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸:**
   - Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹ (0-50%)
   - ÐÐ½Ð°Ð»Ð¸Ð· Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹ (50-95%)
   - Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ (100%)
5. **ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚Ðµ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð½Ð° Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ ÐºÑÑˆÐ°:**
   - ðŸŽ¯ Ð—ÐµÐ»ÐµÐ½Ñ‹Ð¹ Ð·Ð½Ð°Ñ‡Ð¾Ðº = Ð²Ñ‹ÑÐ¾ÐºÐ¸Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚ Ð¿Ð¾Ð¿Ð°Ð´Ð°Ð½Ð¸Ð¹ Ð² ÐºÑÑˆ (>50%)
   - ðŸŽ¯ ÐžÑ€Ð°Ð½Ð¶ÐµÐ²Ñ‹Ð¹ Ð·Ð½Ð°Ñ‡Ð¾Ðº = Ð½Ð¸Ð·ÐºÐ¸Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚ Ð¿Ð¾Ð¿Ð°Ð´Ð°Ð½Ð¸Ð¹ (<50%)

### ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÐºÑÑˆÐ°

**ÐŸÐµÑ€Ð²Ñ‹Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ:** `System Analyst` + `UML`
- Ð ÐµÐ°Ð»ÑŒÐ½Ñ‹Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²: 45
- Ð˜Ð· ÐºÑÑˆÐ°: 0
- ÐŸÐ¾Ð¿Ð°Ð´Ð°Ð½Ð¸Ðµ Ð² ÐºÑÑˆ: 0%

**Ð’Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ:** `System Analyst` + `BPMN` (Ñ‚Ðµ Ð¶Ðµ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸!)
- Ð ÐµÐ°Ð»ÑŒÐ½Ñ‹Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²: 1-5 (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½Ð¾Ð²Ñ‹Ðµ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸)
- Ð˜Ð· ÐºÑÑˆÐ°: 840-845
- ÐŸÐ¾Ð¿Ð°Ð´Ð°Ð½Ð¸Ðµ Ð² ÐºÑÑˆ: **~99%** ðŸŽ¯

Ð­Ñ‚Ð¾ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚, Ñ‡Ñ‚Ð¾ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹ Ð±ÐµÑ€ÑƒÑ‚ÑÑ Ð¸Ð· ÐºÑÑˆÐ° Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð· Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ **Ð² 10-20 Ñ€Ð°Ð· Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ**!

### Ð§ÐµÑ€ÐµÐ· API (curl)

```bash
# ÐÐµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ - Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ WebSocket Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ°
# WebSocket Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°
```

### Ð§ÐµÑ€ÐµÐ· Python Ñ WebSocket

```python
import asyncio
import websockets
import json

async def analyze_vacancies():
    uri = "ws://localhost:8000/ws/analyze"
    
    async with websockets.connect(uri) as websocket:
        # ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð·Ð°Ð¿Ñ€Ð¾Ñ
        request = {
            'vacancy_title': 'System Analyst',
            'technology': 'UML',
            'exact_search': True,
            'area': 113,
            'max_pages': 10
        }
        await websocket.send(json.dumps(request))
        
        # ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐµ
        while True:
            message = await websocket.recv()
            data = json.loads(message)
            
            print(f"[{data['stage']}] {data.get('message', '')}")
            
            if data['stage'] == 'analyzing':
                print(f"  ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ: {data['progress']}%")
                print(f"  ÐŸÐ¾Ð¿Ð°Ð´Ð°Ð½Ð¸Ðµ Ð² ÐºÑÑˆ: {data.get('cache_hit_rate', 0)}%")
            
            if data['stage'] == 'finished':
                result = data['data']
                print(f"\nÐ ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹:")
                print(f"  Ð’ÑÐµÐ³Ð¾ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹: {result['total_vacancies']}")
                print(f"  Ð¡ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸ÐµÐ¹: {result['tech_vacancies']} ({result['tech_percentage']:.1f}%)")
                print(f"  ÐšÑÑˆ: {result['request_stats']['cache_hit_rate']}% Ð¿Ð¾Ð¿Ð°Ð´Ð°Ð½Ð¸Ð¹")
                break
            
            if data['stage'] == 'error':
                print(f"ÐžÑˆÐ¸Ð±ÐºÐ°: {data['message']}")
                break

asyncio.run(analyze_vacancies())
```

## âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸

Ð’ Ñ„Ð°Ð¹Ð»Ðµ `main.py` Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:

```python
MAX_WORKERS = 5                    # ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¿Ð¾Ñ‚Ð¾ÐºÐ¾Ð²
REQUEST_DELAY = 0.1                # Ð—Ð°Ð´ÐµÑ€Ð¶ÐºÐ° Ð¼ÐµÐ¶Ð´Ñƒ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°Ð¼Ð¸ (ÑÐµÐº)
MAX_REQUESTS_PER_SECOND = 7        # ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² ÑÐµÐºÑƒÐ½Ð´Ñƒ
CACHE_TTL_HOURS = 24               # Ð’Ñ€ÐµÐ¼Ñ Ð¶Ð¸Ð·Ð½Ð¸ ÐºÑÑˆÐ° (Ñ‡Ð°ÑÐ¾Ð²)
```

### ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÑÑˆ

1. **ÐŸÑ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ** Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ÑÑ Ñ HH.ru API Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð² ÐºÑÑˆ Ñ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ Ð¼ÐµÑ‚ÐºÐ¾Ð¹
2. **ÐŸÑ€Ð¸ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¼ Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ** (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð°Ð½Ð°Ð»Ð¸Ð· Ñ‚Ð¾Ð¹ Ð¶Ðµ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸ Ñ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸ÐµÐ¹):
   - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ÑÑ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸ Ð² ÐºÑÑˆÐµ
   - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ÑÑ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ (Ð½Ðµ ÑÑ‚Ð°Ñ€ÑˆÐµ 24 Ñ‡Ð°ÑÐ¾Ð²)
   - Ð•ÑÐ»Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹ - Ð±ÐµÑ€ÑƒÑ‚ÑÑ Ð¸Ð· ÐºÑÑˆÐ° (ðŸš€ Ð¼Ð³Ð½Ð¾Ð²ÐµÐ½Ð½Ð¾)
   - Ð•ÑÐ»Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑƒÑÑ‚Ð°Ñ€ÐµÐ»Ð¸ - Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽÑ‚ÑÑ Ð·Ð°Ð½Ð¾Ð²Ð¾

3. **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ°:** ÑƒÑÑ‚Ð°Ñ€ÐµÐ²ÑˆÐ¸Ðµ Ð·Ð°Ð¿Ð¸ÑÐ¸ ÑƒÐ´Ð°Ð»ÑÑŽÑ‚ÑÑ Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ (`/health`)

## ðŸ—ºï¸ ÐšÐ¾Ð´Ñ‹ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð¾Ð² HH.ru

- `1` - ÐœÐ¾ÑÐºÐ²Ð°
- `2` - Ð¡Ð°Ð½ÐºÑ‚-ÐŸÐµÑ‚ÐµÑ€Ð±ÑƒÑ€Ð³
- `113` - Ð Ð¾ÑÑÐ¸Ñ (Ð²ÑÐµ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ñ‹)
- `5` - ÐÐ¾Ð²Ð¾ÑÐ¸Ð±Ð¸Ñ€ÑÐº
- `4` - Ð•ÐºÐ°Ñ‚ÐµÑ€Ð¸Ð½Ð±ÑƒÑ€Ð³

ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº: https://api.hh.ru/areas

## ðŸ“Š ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ

- ÐŸÐ°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ð°Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹
- ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¹ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹
- Rate limiting Ð´Ð»Ñ ÑÐ¾Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ñ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ð¹ API
- ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº (ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ, Ð¿Ð¾Ñ‚Ð¾Ð¼ ÑÐ½Ð¸Ð¿Ð¿ÐµÑ‚, Ð¿Ð¾Ñ‚Ð¾Ð¼ Ð¿Ð¾Ð»Ð½Ð¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ)

## ðŸ”’ ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ

- HH.ru API Ð¸Ð¼ÐµÐµÑ‚ Ð»Ð¸Ð¼Ð¸Ñ‚ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² (ÑÐ¾Ð±Ð»ÑŽÐ´Ð°ÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· rate limiting)
- ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ 2000 Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹ Ð½Ð° Ð¾Ð´Ð¸Ð½ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð²Ñ‹Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ (20 ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† Ð¿Ð¾ 100 Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹)
- Ð”Ð»Ñ MVP Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ `max_pages: 10`

## ðŸ› Ð˜Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹

- ÐŸÑ€Ð¸ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¼ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ðµ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð· Ð¼Ð¾Ð¶ÐµÑ‚ Ð·Ð°Ð½ÑÑ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼Ð¸Ð½ÑƒÑ‚
- CORS Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ñ€Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ñ Ð´Ñ€ÑƒÐ³Ð¾Ð³Ð¾ Ð´Ð¾Ð¼ÐµÐ½Ð°

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
techstats/
â”œâ”€â”€ main.py              # FastAPI Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
â”œâ”€â”€ requirements.txt     # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Python
â”œâ”€â”€ index.html          # Ð’ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
â””â”€â”€ README.md           # Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
```

## ðŸ¤ Ð’ÐºÐ»Ð°Ð´ Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚

ÐŸÑ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ÑÑ pull requests! Ð”Ð»Ñ ÐºÑ€ÑƒÐ¿Ð½Ñ‹Ñ… Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð¾Ñ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ issue Ð´Ð»Ñ Ð¾Ð±ÑÑƒÐ¶Ð´ÐµÐ½Ð¸Ñ.

## ðŸ“„ Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ

MIT License - ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð² ÑÐ²Ð¾Ð¸Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ñ….

## ðŸ‘¨â€ðŸ’» ÐÐ²Ñ‚Ð¾Ñ€

Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð¾ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¹ HH.ru

## ðŸ“ž ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

ÐŸÑ€Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ½Ð¾Ð²ÐµÐ½Ð¸Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ issue Ð² Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°.

---

**ÐŸÑ€Ð¸ÑÑ‚Ð½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ TechStats! ðŸš€**